{% extends 'base.html' %}

{% block body %}
<div class="main-container">
	<div id="PCAscatter" style="width:600px; height:600px;"></div>
</div>
{% endblock %}

{% block javascript %}
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script src="http://code.highcharts.com/highcharts-3d.js"></script>
	<script src="http://code.highcharts.com/modules/heatmap.js"></script>

	<script type="text/javascript">
	  	$(function () {
	  		$.ajax({
	  			url: "/search?query=death",
	  			dataType: "json"
	  		}).done(function(data) {
	  			var series = data.map(function(result) {
	  				return {
	  					name: result.language,
	  					data: result.results
	  				}
	  			});

	  			$('#PCAscatter').highcharts({
			        chart: {
			            type: 'scatter',
			            options3d: {
			                enabled: true,
			                alpha: 0,
			                beta: 30,
			                depth: 200,
			                viewDistance: 10,
			                frame: {
			                    bottom: { size: 1, color: 'rgba(0,0,0,0.03)' },
			                    back: { size: 1, color: 'rgba(0,0,0,0.05)' },
			                    side: { size: 1, color: 'rgba(0,0,0,0.07)' }
			                }
			            }
			        },
			        title: {
			            text: 'Tonality clustering'
			        },
			        subtitle: {
			            text: 'Reduced to 3 dimensions through PCA'
			        },
			        series: series
			    });
	  		});
	  });
	</script>
{% endblock %}